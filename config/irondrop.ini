# ===============================================================================
# IronDrop Configuration File (INI Format)
# ===============================================================================
# 
# ğŸš€ Welcome to IronDrop! This file contains ALL configuration options with
#    detailed explanations and examples to help you get started quickly.
#
# ğŸ“– How to use this file:
#    1. Copy this file: cp config/irondrop.ini my-config.ini
#    2. Edit the settings below to match your needs
#    3. Run: irondrop --config-file my-config.ini
#
# ğŸ”§ IronDrop v2.5.1+ Features:
#    â€¢ Direct streaming uploads with unlimited file size support
#    â€¢ Ultra-compact search engine (10M+ files, <100MB RAM)
#    â€¢ Zero-dependency single binary
#    â€¢ Enterprise-grade security
#
# âš™ï¸ Configuration Priority (highest to lowest):
#    1. Command line arguments (--port 3000)
#    2. Environment variables (IRONDROP_PORT=3000)
#    3. This configuration file
#    4. Built-in defaults
#
# ğŸ“ File Locations (IronDrop searches in this order):
#    â€¢ Custom path: --config-file /path/to/config.ini
#    â€¢ Current directory: ./irondrop.ini or ./irondrop.conf
#    â€¢ User config: ~/.config/irondrop/config.ini
#    â€¢ System config: /etc/irondrop/config.ini (Unix/Linux/macOS)
#
# ğŸ’¡ Pro Tip: Use environment variables for secrets in production!
#    Example: IRONDROP_PASSWORD=secret123 irondrop --config-file prod.ini
#
# ===============================================================================

# ===============================================================================
# ğŸ–¥ï¸  SERVER CONFIGURATION
# ===============================================================================

[server]
# ğŸŒ Listen Address - Where IronDrop accepts connections
# â€¢ 127.0.0.1 = Local access only (safest, default)
# â€¢ 0.0.0.0   = Accept from any network interface (LAN access)
# â€¢ Specific IP = Bind to a particular network interface
# 
# âš ï¸  Security Note: Use 127.0.0.1 for local testing, 0.0.0.0 for network sharing
listen = 127.0.0.1

# ğŸšª Port Number - The "door" where IronDrop listens for requests
# â€¢ Default: 8080
# â€¢ Common alternatives: 3000, 8000, 9000
# â€¢ Use ports > 1024 to avoid requiring admin privileges
# â€¢ Make sure the port isn't already in use!
port = 6969

# ğŸ§µ Worker Threads - How many requests IronDrop can handle simultaneously
# â€¢ Default: 8 threads
# â€¢ More threads = handle more concurrent downloads
# â€¢ Recommended: 2x your CPU cores for high traffic
# â€¢ Example: 4-core CPU â†’ try 8-16 threads
# â€¢ Too many threads can actually hurt performance!
threads = 4

# ğŸ“¦ Chunk Size - How much data to read from files at once (bytes)
# â€¢ Default: 1024 bytes (1KB)
# â€¢ Larger chunks = faster for big files, more memory usage
# â€¢ Smaller chunks = gentler on memory, slower for big files
# â€¢ Good values: 1024 (1KB), 4096 (4KB), 8192 (8KB)
chunk_size = 2048

# ğŸ“‚ Directory - The folder to serve files from
# â€¢ REQUIRED if not specified via command line (-d option)
# â€¢ Use absolute paths for production: /var/www/files
# â€¢ Use relative paths for development: . (current directory)
# â€¢ Make sure IronDrop has read permissions!
# â€¢ For uploads, IronDrop needs write permissions too
directory = .

# ===============================================================================
# â¬†ï¸  UPLOAD SYSTEM CONFIGURATION
# ===============================================================================

[upload]
# ğŸš€ Enable Upload Functionality - Allow users to upload files
# â€¢ false = Read-only file server (default, safest)
# â€¢ true  = Enable uploads via web interface and API
# 
# ğŸ”§ How it works:
# â€¢ Small files (<2MB): Stored in memory, then written to disk
# â€¢ Large files (>2MB): Direct streaming to disk (constant ~7MB RAM usage)
# â€¢ Unlimited file size support with efficient memory usage
# â€¢ Upload endpoint: /_irondrop/upload
# 
# âš ï¸  Security: Only enable if you trust the users and have proper authentication!
enable_upload = true

# ğŸ“ Maximum Upload File Size - Limit how big uploaded files can be
# â€¢ Default: unlimited (with direct streaming)
# â€¢ Supports human-readable sizes: B, KB, MB, GB, TB
# â€¢ Examples:
#   - 100MB     (100 megabytes)
#   - 2GB       (2 gigabytes) 
#   - 500000000 (500 million bytes)
#   - unlimited (comment out this line)
# 
# ğŸ’¡ Why set limits?
# â€¢ Prevent disk space exhaustion
# â€¢ Control bandwidth usage
# â€¢ Comply with storage policies
# 
# ğŸš€ IronDrop's advantage: Even with "unlimited", memory usage stays constant!
max_upload_size = 5GB


# ===============================================================================
# ğŸ”’ SECURITY CONFIGURATION
# ===============================================================================

[security]
# ğŸ›¡ï¸ Allowed File Extensions - Control which file types can be downloaded
# â€¢ Default: * (allow all file types)
# â€¢ Security benefit: Prevent access to sensitive files (.env, .key, etc.)
# â€¢ Supports wildcards and comma-separated lists
# 
# ğŸ“ Examples:
#   *.pdf,*.doc,*.zip,*.txt     (documents and archives only)
#   *.jpg,*.png,*.gif,*.mp4     (media files only)
#   *.zip,*.tar.gz,*.7z         (archives only)
#   *                           (allow everything - use with caution!)
# 
# ğŸ’¡ Pro Tips:
# â€¢ Use restrictive lists for public servers
# â€¢ Include common formats your users need
# â€¢ Test thoroughly - users will complain if they can't access needed files!
# â€¢ Remember: This only affects downloads, not uploads
allowed_extensions = *.pdf,*.doc,*.zip,*.txt

# ===============================================================================
# ğŸ” AUTHENTICATION CONFIGURATION
# ===============================================================================

[auth]
# ğŸ‘¤ Basic Authentication - Protect your server with username/password
# â€¢ Default: disabled (no authentication required)
# â€¢ When enabled: ALL access requires login (downloads, uploads, monitoring)
# â€¢ Uses HTTP Basic Authentication (works with all browsers and tools)
# 
# ğŸ”’ Security Best Practices:
# â€¢ ALWAYS use HTTPS in production (authentication sends credentials!)
# â€¢ Use strong, unique passwords (consider password managers)
# â€¢ Change default credentials immediately
# â€¢ Consider using environment variables for production:
#   IRONDROP_USERNAME=admin IRONDROP_PASSWORD=secret123 irondrop --config-file prod.ini
# 
# ğŸ’¡ When to use authentication:
# â€¢ Serving on public networks (0.0.0.0 listen address)
# â€¢ Upload functionality enabled
# â€¢ Sensitive or private files
# â€¢ Corporate/work environments
# 
# âš ï¸  Leave empty or comment out both lines to disable authentication
username = testuser
password = testpass123

# ===============================================================================
# ğŸ“ LOGGING CONFIGURATION
# ===============================================================================

[logging]
# ğŸ› Verbose Logging - Maximum detail for debugging and development
# â€¢ false = Standard logging (default, recommended for production)
# â€¢ true  = Debug-level logging (shows everything IronDrop is doing)
# 
# ğŸ” When to enable verbose logging:
# â€¢ Troubleshooting connection issues
# â€¢ Development and testing
# â€¢ Understanding how IronDrop processes requests
# â€¢ Investigating performance problems
# 
# âš ï¸  Warning: Verbose logging can impact performance and create large log files!
verbose = true

# â„¹ï¸  Detailed Logging - More information than standard, less than verbose
# â€¢ false = Minimal logging (errors and warnings only)
# â€¢ true  = Info-level logging (shows important events)
# 
# ğŸ“Š What you'll see with detailed logging:
# â€¢ File access attempts
# â€¢ Upload activities
# â€¢ Authentication events
# â€¢ Performance metrics
# 
# ğŸ’¡ Good for production monitoring without overwhelming detail
detailed = true

# ===============================================================================
# ğŸ“š CONFIGURATION EXAMPLES
# ===============================================================================
#
# ğŸ  Home Media Server Example:
# [server]
# listen = 0.0.0.0
# port = 8080
# directory = /home/user/media
# threads = 8
# 
# [security]
# allowed_extensions = *.mp4,*.mkv,*.avi,*.mp3,*.flac,*.jpg,*.png
# 
# [auth]
# username = family
# password = movie-night-2024
#
# ğŸ’¼ Corporate File Server Example:
# [server]
# listen = 0.0.0.0
# port = 443
# directory = /var/company-files
# threads = 16
# 
# [upload]
# enable_upload = true
# max_upload_size = 100MB
# 
# [security]
# allowed_extensions = *.pdf,*.doc,*.docx,*.xls,*.xlsx,*.ppt,*.pptx,*.zip
# 
# [auth]
# username = admin
# password = use-environment-variable-instead
# 
# [logging]
# verbose = false
# detailed = true
#
# ğŸš€ High-Performance Setup Example:
# [server]
# listen = 0.0.0.0
# port = 8080
# directory = /data/files
# threads = 32
# chunk_size = 8192
# 
# [upload]
# enable_upload = true
# # max_upload_size commented out = unlimited
# 
# [logging]
# verbose = false
# detailed = false
#
# ===============================================================================
# ğŸ¯ QUICK START CHECKLIST
# ===============================================================================
#
# âœ… 1. Copy this file: cp config/irondrop.ini my-config.ini
# âœ… 2. Edit the [server] directory = /path/to/your/files
# âœ… 3. Choose your listen address (127.0.0.1 or 0.0.0.0)
# âœ… 4. Set a port (8080 is fine for most cases)
# âœ… 5. Enable uploads if needed (set enable_upload = true)
# âœ… 6. Add authentication for network access (set username/password)
# âœ… 7. Configure allowed file extensions for security
# âœ… 8. Run: irondrop --config-file my-config.ini
# âœ… 9. Open browser: http://localhost:8080 (or your chosen port)
# âœ… 10. Enjoy blazing-fast file sharing! ğŸš€
#
# ğŸ“– Need more help? Check out:
# â€¢ Complete documentation: ./doc/README.md
# â€¢ Configuration guide: ./doc/CONFIGURATION_SYSTEM.md
# â€¢ Security best practices: ./doc/RFC_OWASP_COMPLIANCE.md
# â€¢ Command line help: irondrop --help
#
# ===============================================================================
